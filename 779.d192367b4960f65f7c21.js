"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[779],{6779:(Ln,pe,p)=>{p.r(pe),p.d(pe,{AdminModule:()=>$n});var O=p(8583),r=p(8720),ge=p(4402),Nt=p(7574),ye=p(9796),T=p(8002),St=p(1555);function R(t,n){return new Nt.y(e=>{const o=t.length;if(0===o)return void e.complete();const i=new Array(o);let s=0,a=0;for(let u=0;u<o;u++){const h=(0,ge.D)(t[u]);let l=!1;e.add(h.subscribe({next:c=>{l||(l=!0,a++),i[u]=c},error:c=>e.error(c),complete:()=>{s++,(s===o||!l)&&(a===o&&e.next(n?n.reduce((c,y,d)=>(c[y]=i[d],c),{}):i),e.complete())}}))}})}let Ce=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),V=(()=>{class t extends Ce{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=r.n5z(t)))(o||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const g=new r.OlP("NgValueAccessor"),kt={provide:g,useExisting:(0,r.Gpc)(()=>P),multi:!0},Rt=new r.OlP("CompositionEventMode");let P=(()=>{class t extends Ce{constructor(e,o,i){super(e,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Rt,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&r.NdJ("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[r._Bn([kt]),r.qOj]}),t})();function v(t){return null==t||0===t.length}function be(t){return null!=t&&"number"==typeof t.length}const f=new r.OlP("NgValidators"),b=new r.OlP("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Me{static min(n){return t=n,n=>{if(v(n.value)||v(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null};var t}static max(n){return t=n,n=>{if(v(n.value)||v(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null};var t}static required(n){return v(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return v((t=n).value)||Pt.test(t.value)?null:{email:!0};var t}static minLength(n){return t=n,n=>v(n.value)||!be(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null;var t}static maxLength(n){return t=n,n=>be(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null;var t}static pattern(n){return function(t){if(!t)return M;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),o=>{if(v(o.value))return null;const i=o.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return Pe(n)}static composeAsync(n){return Ge(n)}}function M(t){return null}function Be(t){return null!=t}function we(t){const n=(0,r.QGY)(t)?(0,ge.D)(t):t;return(0,r.CqO)(n),n}function ke(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function Te(t,n){return n.map(e=>e(t))}function Re(t){return t.map(n=>function(t){return!t.validate}(n)?n:e=>n.validate(e))}function Pe(t){if(!t)return null;const n=t.filter(Be);return 0==n.length?null:function(e){return ke(Te(e,n))}}function z(t){return null!=t?Pe(Re(t)):null}function Ge(t){if(!t)return null;const n=t.filter(Be);return 0==n.length?null:function(e){return function(...t){if(1===t.length){const n=t[0];if((0,ye.k)(n))return R(n,null);if((0,St.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const e=Object.keys(n);return R(e.map(o=>n[o]),e)}}if("function"==typeof t[t.length-1]){const n=t.pop();return R(t=1===t.length&&(0,ye.k)(t[0])?t[0]:t,null).pipe((0,T.U)(e=>n(...e)))}return R(t,null)}(Te(e,n).map(we)).pipe((0,T.U)(ke))}}function J(t){return null!=t?Ge(Re(t)):null}function Ie(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function xe(t){return t._rawValidators}function $e(t){return t._rawAsyncValidators}function W(t){return t?Array.isArray(t)?t:[t]:[]}function G(t,n){return Array.isArray(t)?t.includes(n):t===n}function je(t,n){const e=W(n);return W(t).forEach(i=>{G(e,i)||e.push(i)}),e}function Le(t,n){return W(n).filter(e=>!G(t,e))}let Ue=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=z(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=J(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),m=(()=>{class t extends Ue{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let n;return function(o){return(n||(n=r.n5z(t)))(o||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class A extends Ue{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qe{constructor(n){this._cd=n}is(n){var e,o,i;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===i?void 0:i[n])}}let He=(()=>{class t extends qe{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(A,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&r.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[r.qOj]}),t})(),Ye=(()=>{class t extends qe{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(m,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&r.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[r.qOj]}),t})();function x(t,n){return[...n.path,t]}function N(t,n){ee(t,n),n.valueAccessor.writeValue(t.value),function(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ze(t,n)})}(t,n),function(t,n){const e=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ze(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function(t,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function $(t,n,e=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),L(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function j(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function ee(t,n){const e=xe(t);null!==n.validator?t.setValidators(Ie(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const o=$e(t);null!==n.asyncValidator?t.setAsyncValidators(Ie(o,n.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const i=()=>t.updateValueAndValidity();j(n._rawValidators,i),j(n._rawAsyncValidators,i)}function L(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=xe(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const i=$e(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}const o=()=>{};return j(n._rawValidators,o),j(n._rawAsyncValidators,o),e}function Ze(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function U(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const S="VALID",q="INVALID",E="PENDING",B="DISABLED";function oe(t){return(ie(t)?t.validators:t)||null}function Je(t){return Array.isArray(t)?z(t):t||null}function re(t,n){return(ie(n)?n.asyncValidators:t)||null}function We(t){return Array.isArray(t)?J(t):t||null}function ie(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class se{constructor(n,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=Je(this._rawValidators),this._composedAsyncValidatorFn=We(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===S}get invalid(){return this.status===q}get pending(){return this.status==E}get disabled(){return this.status===B}get enabled(){return this.status!==B}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Je(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=We(n)}addValidators(n){this.setValidators(je(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(je(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Le(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Le(n,this._rawAsyncValidators))}hasValidator(n){return G(this._rawValidators,n)}hasAsyncValidator(n){return G(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=E,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=B,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=S,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S||this.status===E)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B:S}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=E,this._hasOwnPendingAsyncValidator=!0;const e=we(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let o=t;return n.forEach(i=>{o=o instanceof w?o.controls.hasOwnProperty(i)?o.controls[i]:null:o instanceof ae&&o.at(i)||null}),o}(this,n)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?B:this.errors?q:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(E)?E:this._anyControlsHaveStatus(q)?q:S}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ie(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class F extends se{constructor(n=null,e,o){super(oe(e),re(o,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){U(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){U(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class w extends se{constructor(n,e,o){super(oe(e),re(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e instanceof F?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&n(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,o)=>((e.enabled||this.disabled)&&(n[o]=e.value),n))}_reduceChildren(n,e){let o=n;return this._forEachChild((i,s)=>{o=e(o,i,s)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class ae extends se{constructor(n,e,o){super(oe(e),re(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,o={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((o,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((o,i)=>{this.at(i)&&this.at(i).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof F?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,o)=>{n(e,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let Xe=(()=>{class t extends m{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return x(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let n;return function(o){return(n||(n=r.n5z(t)))(o||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})(),nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const ue=new r.OlP("NgModelWithFormControlWarning"),on={provide:m,useExisting:(0,r.Gpc)(()=>H)};let H=(()=>{class t extends m{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return N(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){$(e.control||null,e,!1),U(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,function(t,n){t._syncPendingControls(),n.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,i=this.form.get(e.path);o!==i&&($(o||null,e),i instanceof F&&(N(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);(function(t,n){ee(t,n)})(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(t,n){return L(t,n)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ee(this.form,this),this._oldForm&&L(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f,10),r.Y36(b,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&r.NdJ("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([on]),r.qOj,r.TTD]}),t})();const rn={provide:m,useExisting:(0,r.Gpc)(()=>Y)};let Y=(()=>{class t extends Xe{constructor(e,o,i){super(),this._parent=e,this._setValidators(o),this._setAsyncValidators(i)}_checkParentType(){lt(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(m,13),r.Y36(f,10),r.Y36(b,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r._Bn([rn]),r.qOj]}),t})();const sn={provide:m,useExisting:(0,r.Gpc)(()=>Z)};let Z=(()=>{class t extends m{constructor(e,o,i){super(),this._parent=e,this._setValidators(o),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return x(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){lt(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(m,13),r.Y36(f,10),r.Y36(b,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r._Bn([sn]),r.qOj]}),t})();function lt(t){return!(t instanceof Y||t instanceof H||t instanceof Z)}const an={provide:A,useExisting:(0,r.Gpc)(()=>ce)};let ce=(()=>{class t extends A{constructor(e,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function(t,n){if(!n)return null;let e,o,i;return Array.isArray(n),n.forEach(s=>{s.constructor===P?e=s:function(t){return Object.getPrototypeOf(t.constructor)===V}(s)?o=s:i=s}),i||o||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return x(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(m,13),r.Y36(f,10),r.Y36(b,10),r.Y36(g,10),r.Y36(ue,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([an]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})(),vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[rt]]}),t})(),bt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ue,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[vt]}),t})(),An=(()=>{class t{group(e,o=null){const i=this._reduceControls(e);let u,s=null,a=null;return null!=o&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(o)?(s=null!=o.validators?o.validators:null,a=null!=o.asyncValidators?o.asyncValidators:null,u=null!=o.updateOn?o.updateOn:void 0):(s=null!=o.validator?o.validator:null,a=null!=o.asyncValidator?o.asyncValidator:null)),new w(i,{asyncValidators:a,updateOn:u,validators:s})}control(e,o,i){return new F(e,o,i)}array(e,o,i){const s=e.map(a=>this._createControl(a));return new ae(s,o,i)}_reduceControls(e){const o={};return Object.keys(e).forEach(i=>{o[i]=this._createControl(e[i])}),o}_createControl(e){return e instanceof F||e instanceof w||e instanceof ae?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:bt}),t})();function At(t,n,e,o){var a,i=arguments.length,s=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,o);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(s=(i<3?a(s):i>3?a(n,e,s):a(n,e))||s);return i>3&&s&&Object.defineProperty(n,e,s),s}const En={provide:g,useExisting:(0,r.Gpc)(()=>Et),multi:!0};let Et=(()=>{let t=class{constructor(e,o){this.renderer=e,this.elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}writeValue(e){e?this.renderer.setProperty(this.elementRef.nativeElement,"valueAsDate",e):this.renderer.setProperty(this.elementRef.nativeElement,"value",null)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","useValueAsDate",""]],hostBindings:function(e,o){1&e&&r.NdJ("input",function(s){return o.onChange(s.target.valueAsDate)})("blur",function(){return o.onTouched()})},features:[r._Bn([En])]}),At([(0,r.L6J)("input",["$event.target.valueAsDate"])],t.prototype,"onChange",void 0),At([(0,r.L6J)("blur",[])],t.prototype,"onTouched",void 0),t})(),Fn=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var D=p(6196),me=p(7984);class Ft{static isbnFormat(n){if(!n.value)return null;const e=n.value.replace(/-/g,"");return/(^\d{10}$)|(^\d{13}$)/.test(e)?null:{isbnFormat:{valid:!1}}}static atLeastOneAuthor(n){return n.controls.some(e=>e.value)?null:{atLeastOneAuthor:{valid:!1}}}}var Dn=p(5917),Nn=p(5304);let Sn=(()=>{class t{constructor(e){this.bs=e}validate(e){return this.bs.check(e.value).pipe((0,T.U)(o=>!1===o?null:{isbnExists:{valid:!1}}),(0,Nn.K)(()=>(0,Dn.of)(null)))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(me.T))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bn(t,n){if(1&t&&(r.TgZ(0,"div",1),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.hij(" ",e,"\n")}}let wn=(()=>{class t{constructor(){this.allMessages={title:{required:"Ein Buchtitel muss angegeben werden."},isbn:{required:"Es muss eine ISBN angegeben werden.",isbnFormat:"Die ISBN muss aus 10 oder 13 Zeichen bestehen.",isbnExists:"Die ISBN existiert bereits."},published:{required:"Es muss ein Erscheinungsdatum angegeben werden."},authors:{atLeastOneAuthor:"Es muss ein Autor angegeben werden."}}}ngOnInit(){}errorsForControl(){const e=this.allMessages[this.controlName];return this.control&&this.control.errors&&e&&this.control.dirty?Object.keys(this.control.errors).map(o=>e[o]):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["bm-form-messages"]],inputs:{control:"control",controlName:"controlName"},decls:1,vars:1,consts:[["class","ui negative message",4,"ngFor","ngForOf"],[1,"ui","negative","message"]],template:function(e,o){1&e&&r.YNc(0,Bn,2,1,"div",0),2&e&&r.Q6J("ngForOf",o.errorsForControl())},directives:[O.sg],styles:[""]}),t})();function kn(t,n){if(1&t&&(r.TgZ(0,"div",26),r._UZ(1,"input",27),r.qZA()),2&t){const e=n.index;r.xp6(1),r.Q6J("formControlName",e)}}function Tn(t,n){1&t&&(r.TgZ(0,"div",28),r.TgZ(1,"div",29),r._UZ(2,"input",30),r.qZA(),r.TgZ(3,"div",31),r._UZ(4,"input",32),r.qZA(),r.qZA()),2&t&&r.Q6J("formGroupName",n.index)}let Dt=(()=>{class t{constructor(e,o){this.fb=e,this.bookExistsValidator=o,this.editing=!1,this.submitBook=new r.vpe}ngOnInit(){this.initForm()}ngOnChanges(){this.initForm(),this.setFormValues(this.book)}setFormValues(e){this.bookForm.patchValue(e),this.bookForm.setControl("authors",this.buildAuthorsArray(e.authors)),this.bookForm.setControl("thumbnails",this.buildThumbnailsArray(e.thumbnails))}initForm(){this.bookForm||(this.bookForm=this.fb.group({title:["",Me.required],subtitle:[""],isbn:[{value:"",disabled:this.editing},[Me.required,Ft.isbnFormat],this.editing?null:[this.bookExistsValidator]],description:[""],authors:this.buildAuthorsArray([""]),thumbnails:this.buildThumbnailsArray([{title:"",url:""}]),published:[]}))}buildAuthorsArray(e){return this.fb.array(e,Ft.atLeastOneAuthor)}buildThumbnailsArray(e){return this.fb.array(e.map(o=>this.fb.group(o)))}get authors(){return this.bookForm.get("authors")}get thumbnails(){return this.bookForm.get("thumbnails")}addAuthorControl(){this.authors.push(this.fb.control(""))}addThumbnailControl(){this.thumbnails.push(this.fb.group({url:"",title:""}))}submitForm(){const e=this.bookForm.value,o=e.authors.filter(u=>u),i=e.thumbnails.filter(u=>u.url),s=this.editing?this.book.isbn:e.isbn,a=Object.assign(Object.assign({},e),{isbn:s,authors:o,thumbnails:i});this.submitBook.emit(a),this.bookForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(An),r.Y36(Sn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["bm-book-form"]],inputs:{book:"book",editing:"editing"},outputs:{submitBook:"submitBook"},features:[r.TTD],decls:34,vars:8,consts:function(){let n,e,o,i,s,a,u,h,l,c,y,d,C;return n=$localize`:@@BookFormComponent\:book title:Buchtitel`,e=$localize`:@@BookFormComponent\:book subtitle:Untertitel`,o=$localize`:@@BookFormComponent\:book isbn:ISBN`,i=$localize`:@@BookFormComponent\:book published date:Erscheinungsdatum`,s=$localize`:@@BookFormComponent\:book authors:Autoren`,a=$localize`:@@BookFormComponent\:add author: + Autor `,u=$localize`:@@BookFormComponent\:book description:Beschreibung`,h=$localize`:@@BookFormComponent\:book thumbnails:Bilder`,l=$localize`:@@BookFormComponent\:add thumbnail: + Bild `,c=$localize`:@@BookFormComponent\:book form save: Speichern `,y=$localize`:@@BookFormComponent\:author placeholder:Autor`,d=$localize`:@@BookFormComponent\:book url placeholder:URL`,C=$localize`:@@BookFormComponent\:book thumbnail placeholder:Titel`,[[1,"ui","form",3,"formGroup","ngSubmit"],n,["formControlName","title"],["controlName","title",3,"control"],e,["formControlName","subtitle"],o,["formControlName","isbn"],["controlName","isbn",3,"control"],i,["type","date","useValueAsDate","","formControlName","published"],["controlName","published",3,"control"],s,["type","button",1,"ui","mini","button",3,"click"],a,["formArrayName","authors",1,"fields"],["class","sixteen wide field",4,"ngFor","ngForOf"],["controlName","authors",3,"control"],u,["formControlName","description"],h,l,["formArrayName","thumbnails"],["class","fields",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit",1,"ui","button",3,"disabled"],c,[1,"sixteen","wide","field"],["placeholder",y,3,"formControlName"],[1,"fields",3,"formGroupName"],[1,"nine","wide","field"],["placeholder",d,"formControlName","url"],[1,"seven","wide","field"],["placeholder",C,"formControlName","title"]]},template:function(e,o){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return o.submitForm()}),r.TgZ(1,"label"),r.SDv(2,1),r.qZA(),r._UZ(3,"input",2),r._UZ(4,"bm-form-messages",3),r.TgZ(5,"label"),r.SDv(6,4),r.qZA(),r._UZ(7,"input",5),r.TgZ(8,"label"),r.SDv(9,6),r.qZA(),r._UZ(10,"input",7),r._UZ(11,"bm-form-messages",8),r.TgZ(12,"label"),r.SDv(13,9),r.qZA(),r._UZ(14,"input",10),r._UZ(15,"bm-form-messages",11),r.TgZ(16,"label"),r.SDv(17,12),r.qZA(),r.TgZ(18,"button",13),r.NdJ("click",function(){return o.addAuthorControl()}),r.SDv(19,14),r.qZA(),r.TgZ(20,"div",15),r.YNc(21,kn,2,1,"div",16),r.qZA(),r._UZ(22,"bm-form-messages",17),r.TgZ(23,"label"),r.SDv(24,18),r.qZA(),r._UZ(25,"textarea",19),r.TgZ(26,"label"),r.SDv(27,20),r.qZA(),r.TgZ(28,"button",13),r.NdJ("click",function(){return o.addThumbnailControl()}),r.SDv(29,21),r.qZA(),r.TgZ(30,"div",22),r.YNc(31,Tn,5,1,"div",23),r.qZA(),r.TgZ(32,"button",24),r.SDv(33,25),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",o.bookForm),r.xp6(4),r.Q6J("control",o.bookForm.get("title")),r.xp6(7),r.Q6J("control",o.bookForm.get("isbn")),r.xp6(4),r.Q6J("control",o.bookForm.get("published")),r.xp6(6),r.Q6J("ngForOf",o.authors.controls),r.xp6(1),r.Q6J("control",o.bookForm.get("authors")),r.xp6(9),r.Q6J("ngForOf",o.thumbnails.controls),r.xp6(1),r.Q6J("disabled",o.bookForm.invalid))},directives:[nt,Ye,H,P,He,ce,wn,Et,Z,O.sg,Y],styles:[""]}),t})(),Rn=(()=>{class t{constructor(e,o,i){this.bs=e,this.route=o,this.router=i}ngOnInit(){}createBook(e){this.bs.create(e).subscribe(()=>{this.router.navigate(["../..","books"],{relativeTo:this.route})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(me.T),r.Y36(D.gz),r.Y36(D.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["bm-create-book"]],decls:3,vars:0,consts:function(){let n;return n=$localize`:@@BookFormComponent\:book form:Buch hinzufÃ¼gen`,[n,[3,"submitBook"]]},template:function(e,o){1&e&&(r.TgZ(0,"h1"),r.SDv(1,0),r.qZA(),r.TgZ(2,"bm-book-form",1),r.NdJ("submitBook",function(s){return o.createBook(s)}),r.qZA())},directives:[Dt],styles:[""]}),t})();var Pn=p(3190);function Gn(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"bm-book-form",2),r.NdJ("submitBook",function(i){return r.CHM(e),r.oxw().updateBook(i)}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("book",e.book)("editing",!0)}}const In=[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:Rn},{path:"edit/:isbn",component:(()=>{class t{constructor(e,o,i){this.bs=e,this.route=o,this.router=i}ngOnInit(){this.route.paramMap.pipe((0,T.U)(e=>e.get("isbn")),(0,Pn.w)(e=>this.bs.getSingle(e))).subscribe(e=>this.book=e)}updateBook(e){this.bs.update(e).subscribe(()=>{this.router.navigate(["../../..","books",e.isbn],{relativeTo:this.route})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(me.T),r.Y36(D.gz),r.Y36(D.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["bm-edit-book"]],decls:3,vars:1,consts:function(){let n;return n=$localize`:@@BookFormComponent\:book form:Buch bearbeiten`,[n,[3,"book","editing","submitBook",4,"ngIf"],[3,"book","editing","submitBook"]]},template:function(e,o){1&e&&(r.TgZ(0,"h1"),r.SDv(1,0),r.qZA(),r.YNc(2,Gn,1,2,"bm-book-form",1)),2&e&&(r.xp6(2),r.Q6J("ngIf",o.book))},directives:[O.O5,Dt],styles:[""]}),t})()}];let xn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[],imports:[[D.Bz.forChild(In)],D.Bz]}),t})(),$n=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[O.ez,xn,bt,Fn]]}),t})()}}]);